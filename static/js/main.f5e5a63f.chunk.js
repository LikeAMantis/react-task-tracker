(this["webpackJsonpreact-task-tracker"]=this["webpackJsonpreact-task-tracker"]||[]).push([[0],{24:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(11),s=n.n(c),i=(n(24),n(9)),o=n(7),u=n.n(o),d=n(8),j=n(5),l=n(2),f=n(14),b=n(16),p=n(3),O=function(t){var e=t.addTask,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(j.a)(i,2),u=o[0],d=o[1];function l(){e(c),s(""),d(!1)}return Object(p.jsx)(p.Fragment,{children:u?Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{ref:function(t){return t&&t.focus()},onKeyDown:function(t){return function(t){"Enter"===t.code?(l(),d(!1)):"Escape"===t.code&&d(!1)}(t)},onChange:function(t){s(t.target.value)},value:c,placeholder:"Add Task"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"save-btn",onClick:l,children:"Save"}),Object(p.jsx)("button",{onClick:function(){return d(!1)},children:"Cancel"})]})]}):Object(p.jsxs)("div",{id:"addTask",onClick:function(){return d(!0)},children:[Object(p.jsx)(b.a,{}),Object(p.jsx)("span",{children:"Add Task"})]})})},h=n(18),k=n(17),x=Object(a.forwardRef)((function(t,e){var n=t.taskData,r=t.deleteTask,c=t.putTask,s=t.attributes,i=t.listeners,o=t.style,u=Object(a.useState)(n.text),d=Object(j.a)(u,2),b=d[0],O=d[1];return Object(p.jsxs)("div",{className:"taskContainer",ref:e,style:o,children:[Object(p.jsx)(f.a,Object(l.a)(Object(l.a)({className:"dragHandle"},i),s)),Object(p.jsx)("div",{className:"checkbox",onClick:function(){return c(Object(l.a)(Object(l.a)({},n),{},{done:!n.done}))},children:n.done&&Object(p.jsx)(k.a,{})}),Object(p.jsx)("input",{className:"task",style:n.done?{textDecorationLine:"line-through",color:"grey"}:null,value:b,onChange:function(t){return O(t.target.value)},onBlur:function(){return c(Object(l.a)(Object(l.a)({},n),{},{text:b}))},onKeyDown:function(t){return function(t){"Enter"!==t.code&&"Escape"!==t.code||t.target.blur()}(t)}}),Object(p.jsx)(h.a,{className:"del-icon",onClick:function(t){t.stopPropagation(),r(n.id),console.log("deleteTask")}})]})})),m=n(10),y=n(4),v=function(t){var e=Object(m.d)({id:t.taskData.id}),n=e.attributes,a=e.listeners,r=e.setNodeRef,c=e.transform,s=e.transition,i={transform:y.a.Transform.toString(c),transition:s};return Object(p.jsx)(x,Object(l.a)(Object(l.a)({ref:r},t),{},{style:t.isDragged?Object(l.a)(Object(l.a)({},i),{},{background:"lightgrey"}):i,attributes:n,listeners:a}))},g=n(6),C=function(t){var e=t.tasksCategorie,n=t.deleteCategory,r=t.editCategoryName,c=t.categoryAdded,s=Object(a.useState)([]),o=Object(j.a)(s,2),b=o[0],h=o[1],k=Object(a.useState)(c),C=Object(j.a)(k,2),N=C[0],w=C[1],T=Object(a.useState)(e.name),S=Object(j.a)(T,2),E=S[0],D=S[1],A=Object(a.useState)(null),L=Object(j.a)(A,2),M=L[0],I=L[1],J=Object(g.o)(Object(g.n)(g.e),Object(g.n)(g.d,{coordinateGetter:m.c})),P=Object(m.d)({id:e.id}),K=P.attributes,R=P.listeners,B=P.setNodeRef,F=P.transform,G=P.transition,H={transform:y.a.Translate.toString(F),transition:G};function U(){return(U=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z({tasksCategorieId:e.id,done:!1,text:n});case 2:a=t.sent,h([].concat(Object(i.a)(b),[a]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(d.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,h(b.map((function(t){return t.id===e.id?a:t})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&h(b.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks?tasksCategorieId=".concat(e.id));case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,h(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);function Y(t){I(t.active.id)}function Z(t){var e=t.active,n=t.over;if(e.id!==n.id){var a=b.findIndex((function(t){return t.id===e.id})),r=b.findIndex((function(t){return t.id===n.id}));h(Object(m.b)(b,a,r))}I(null)}return Object(p.jsx)("div",{className:"test",style:Object(l.a)({},H),ref:B,children:Object(p.jsxs)("div",{className:"categoryWrapper",children:[Object(p.jsx)(f.a,Object(l.a)(Object(l.a)(Object(l.a)({className:"dragHandle"},R),K),{},{tabIndex:"false"})),N?Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{ref:function(t){return t&&t.focus()},placeholder:"New Category",onKeyDown:function(t){return function(t){"Enter"===t.code?(r(e.id,E),w(!1)):"Escape"===t.code&&w(!1)}(t)},onChange:function(t){return D(t.target.value)},value:E,style:{height:"1.5em",width:"96%"}}),Object(p.jsxs)("div",{className:"btnContainer",children:[Object(p.jsx)("button",{className:"save-btn",onClick:function(){0===E.length?alert("Enter a Name!"):(r(e.id,E),w(!1))},children:"Save"}),Object(p.jsx)("button",{onClick:function(){return 0===E.length?alert("Enter a Name!"):w(!1)},children:"Cancel"}),Object(p.jsx)("button",{className:"del-btn",onClick:function(){n(e.id),w(!1)},children:"Delete"})]})]}):Object(p.jsxs)("h2",{className:"categoryTitle",onClick:function(){return w(!0)},children:[" ",e.name]}),Object(p.jsx)("div",{className:"tasks",children:b.length>0?Object(p.jsxs)(g.a,{sensors:J,collisionDetection:g.f,onDragEnd:Z,onDragStart:Y,children:[Object(p.jsx)(m.a,{items:b,strategy:m.e,children:b.map((function(t){return Object(p.jsx)(v,{taskData:t,putTask:q,deleteTask:V,postTask:z,isDragged:M===t.id},"task-".concat(t.id))}))}),Object(p.jsxs)(g.b,{children:[" ",M?Object(p.jsx)(x,{taskData:b.find((function(t){return t.id===M}))}):null," "]})]}):Object(p.jsx)("p",{children:"Tasks"})}),Object(p.jsx)(O,{addTask:function(t){return U.apply(this,arguments)}})]})})},N=n(19);var w=function(){var t=Object(a.useState)([]),e=Object(j.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(!1),s=Object(j.a)(c,2),o=s[0],l=s[1],f=Object(g.o)(Object(g.n)(g.e),Object(g.n)(g.d,{coordinateGetter:m.c}));function b(){return(b=Object(d.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:""})});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,r([].concat(Object(i.a)(n),[a]));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return h.apply(this,arguments)}function h(){return(h=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&r(n.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function t(e,a){var c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});case 2:return c=t.sent,t.next=5,c.json();case 5:s=t.sent,r(n.map((function(t){return t.id===e?s:t})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){var e=t.active,a=t.over;if(e.id!==a.id){var c=n.findIndex((function(t){return t.id===e.id})),s=n.findIndex((function(t){return t.id===a.id}));r(Object(m.b)(n,c,s))}}return Object(a.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"Tasks Tracker"}),Object(p.jsx)("div",{className:"flexContainer",children:n.length>0?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(g.a,{sensors:f,collisionDetection:g.f,onDragEnd:y,children:Object(p.jsx)(m.a,{items:n,children:n.map((function(t){return Object(p.jsx)(C,{tasksCategorie:t,deleteCategory:O,editCategoryName:k,categoryAdded:o},"Categorie-".concat(t.id))}))})})}):"No Categories added yet!"}),Object(p.jsx)("hr",{size:"1",width:"90%",color:"black"}),Object(p.jsxs)("div",{id:"addCategory",onClick:function(){!function(){b.apply(this,arguments)}(),l(!0)},children:[Object(p.jsx)(N.a,{}),"Add Category"]})]})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),document.onload=function(){return alert("test")}}},[[27,1,2]]]);
//# sourceMappingURL=main.f5e5a63f.chunk.js.map