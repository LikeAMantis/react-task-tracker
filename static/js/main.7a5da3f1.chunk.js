(this["webpackJsonpreact-task-tracker"]=this["webpackJsonpreact-task-tracker"]||[]).push([[0],{28:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(11),s=n.n(c),i=(n(28),n(7)),o=n.n(i),l=n(8),u=n(5),d=n(17),j=n(9),b=n(23),f=n(2),p=n(16),O=n(22),h=n(13),x=n(19),m=n(20),k=n(3),v=Object(a.forwardRef)((function(t,e){var n=t.taskData,r=t.onDelete,c=t.onEdit,s=t.attributes,i=t.listeners,o=t.style,l=Object(a.useState)(n.text),d=Object(u.a)(l,2),j=d[0],b=d[1];return Object(k.jsxs)("div",{className:"taskContainer",ref:e,style:o,children:[Object(k.jsx)(p.a,Object(f.a)(Object(f.a)({className:"dragHandle"},i),s)),Object(k.jsx)("div",{className:"checkbox",onClick:function(){return c(Object(f.a)(Object(f.a)({},n),{},{done:!n.done}))},children:n.done&&Object(k.jsx)(m.a,{style:{color:"red"}})}),Object(k.jsx)("input",{className:"task",style:n.done?{textDecorationLine:"line-through",color:"grey"}:null,value:j,onChange:function(t){return b(t.target.value)},onBlur:function(){return c(Object(f.a)(Object(f.a)({},n),{},{text:j}))},onKeyDown:function(t){return function(t){"Enter"!==t.code&&"Escape"!==t.code||t.target.blur()}(t)}}),Object(k.jsx)(h.a,{className:"del-icon",onClick:function(t){t.stopPropagation(),r(n.id)}})]})})),y=n(10),g=n(4),C=function(t){var e=Object(y.d)({id:t.taskData.id}),n=e.attributes,a=e.listeners,r=e.setNodeRef,c=e.transform,s=e.transition,i={transform:g.a.Transform.toString(c),transition:s};return Object(k.jsx)(v,Object(f.a)(Object(f.a)({ref:r},t),{},{style:t.isDragged?Object(f.a)(Object(f.a)({},i),{},{background:"lightgrey"}):i,attributes:n,listeners:a}))},N=n(21),w=function(t){var e=t.onAdd,n=t.text,r=t.style,c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1];function f(){e(i),o(""),b(!1)}return Object(k.jsx)(k.Fragment,{children:j?Object(k.jsxs)("div",{className:"edit",children:[Object(k.jsx)("input",{ref:function(t){return t&&t.focus()},onKeyDown:function(t){return function(t){"Enter"===t.code?(f(),b(!1)):"Escape"===t.code&&b(!1)}(t)},onChange:function(t){o(t.target.value)},value:i,placeholder:n}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{className:"save-btn",onClick:f,children:"Save"}),Object(k.jsx)("button",{onClick:function(){return b(!1)},children:"Cancel"})]})]}):Object(k.jsx)("div",{className:"add-btn",style:r,children:Object(k.jsxs)("span",{onClick:function(){return b(!0)},children:[Object(k.jsx)(N.a,{}),n]})})})},S=function(t){var e=t.tasksCategorie,n=t.onEdit,a=t.onClose,r=t.wrapper,c=t.colors;return s.a.createPortal(Object(k.jsx)("div",{className:"colorPicker",style:{left:r.getBoundingClientRect().left+"px",top:r.getBoundingClientRect().top+20+"px"},ref:function(t){return t&&t.focus()},tabIndex:"0",onClick:function(t){return function(t){t.stopPropagation(),t.target.hasAttribute("title")&&(n(Object(f.a)(Object(f.a)({},e),{},{color:parseInt(t.target.dataset.id)})),a(!1))}(t)},onBlur:function(){return a(!1)},children:c.map((function(t){return Object(k.jsx)("div",{title:t.name,"data-id":t.id,style:{background:"var(--".concat(t.name,")")}},"color-".concat(t.id))}))}),document.body)},E=function(t){var e=t.labels,n=t.onClose,a=t.onEdit,r=t.tasksCategorie;return Object(k.jsxs)("div",{className:"labelPicker",style:{position:"relative",background:"black"},ref:function(t){return t&&t.focus()},tabIndex:"0",onClick:function(t){return function(t){t.stopPropagation();var e=t.target.dataset.id;e=null!=e&&parseInt(t.target.dataset.id),a(Object(f.a)(Object(f.a)({},r),{},{label:e})),n(!1)}(t)},onBlur:function(){return n(!1)},children:[Object(k.jsx)("div",{children:"none"}),e.map((function(t){return Object(k.jsx)("div",{"data-id":t.id,children:t.name},"label-".concat(t.id))}))]})},D=n(6),T=function(t){var e=t.tasksCategorie,n=t.tasksData,r=t.onDelete,c=t.onEdit,s=t.colors,i=t.labels,d=Object(a.useState)(n),b=Object(u.a)(d,2),m=b[0],N=b[1],T=Object(a.useState)(!1),A=Object(u.a)(T,2),I=A[0],L=A[1],P=Object(a.useState)(!1),B=Object(u.a)(P,2),M=B[0],F=B[1],J=Object(a.useState)(!1),R=Object(u.a)(J,2),K=R[0],G=R[1],H=Object(a.useState)(e.name),U=Object(u.a)(H,2),z=U[0],W=U[1],q=Object(a.useRef)(),Q=Object(a.useRef)(),V=Object(a.useState)(null),X=Object(u.a)(V,2),Y=X[0],Z=X[1],$=Object(D.o)(Object(D.n)(D.e),Object(D.n)(D.d,{coordinateGetter:y.c})),_=Object(y.d)({id:e.id}),tt=_.attributes,et=_.listeners,nt=_.setNodeRef,at=_.transform,rt=_.transition,ct={transform:g.a.Translate.toString(at),transition:rt};function st(){return(st=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it({tasksCategorieId:e.id,done:!1,text:n});case 2:a=t.sent,N([].concat(Object(j.a)(m),[a]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t){return ot.apply(this,arguments)}function ot(){return(ot=Object(l.a)(o.a.mark((function t(e){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lt(t){return ut.apply(this,arguments)}function ut(){return(ut=Object(l.a)(o.a.mark((function t(e){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,N(m.map((function(t){return t.id===e.id?a:t})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t){return jt.apply(this,arguments)}function jt(){return(jt=Object(l.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasks/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&N(m.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(){0===z.length?alert("Enter a Name!"):(c(Object(f.a)(Object(f.a)({},e),{},{name:z})),L(!1))}function ft(){0===z.length?alert("Enter a Name!"):(L(!1),W(q.current))}function pt(t){Z(t.active.id)}function Ot(t){var e=t.active,n=t.over;if(e.id!==n.id){var a=m.findIndex((function(t){return t.id===e.id})),r=m.findIndex((function(t){return t.id===n.id}));N(Object(y.b)(m,a,r))}Z(null)}return Object(k.jsx)("div",{ref:nt,style:Object(f.a)({},ct),children:Object(k.jsxs)("div",{className:"categoryWrapper",style:{background:"var(--".concat(s.find((function(t){return t.id===e.color})).name,")")},children:[Object(k.jsx)(p.a,Object(f.a)(Object(f.a)(Object(f.a)({className:"dragHandle"},et),tt),{},{tabIndex:"false"})),Object(k.jsxs)("div",{className:"editCategory-container",ref:Q,children:[Object(k.jsx)(O.a,{className:"colorPicker-btn",onClick:function(){return F(!0)},tabIndex:"0"}),M&&Object(k.jsx)(S,{tasksCategorie:e,onEdit:c,onClose:F,wrapper:Q.current,colors:s}),Object(k.jsx)(h.a,{className:"del-icon",onClick:function(){r(e.id),L(!1)}})]}),I?Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{ref:function(t){return t&&t.focus()},placeholder:"New Category",onKeyDown:function(t){return function(t){"Enter"===t.code?(c(Object(f.a)(Object(f.a)({},e),{},{name:z})),L(!1)):"Escape"===t.code&&L(!1)}(t)},onChange:function(t){return W(t.target.value)},value:z,style:{height:"1.5em",width:"96%"}}),Object(k.jsxs)("div",{className:"btnContainer",children:[Object(k.jsx)("button",{className:"save-btn",onClick:bt,children:"Save"}),Object(k.jsx)("button",{onClick:ft,children:"Cancel"})]})]}):Object(k.jsx)("h2",{className:"categoryTitle",onClick:function(){L(!0),q.current=z},children:e.name}),Object(k.jsx)("div",{className:"tasks",children:m.length>0?Object(k.jsxs)(D.a,{sensors:$,collisionDetection:D.f,onDragEnd:Ot,onDragStart:pt,children:[Object(k.jsx)(y.a,{items:m,strategy:y.e,children:m.map((function(t){return Object(k.jsx)(C,{taskData:t,onEdit:lt,onDelete:dt,isDragged:Y===t.id},"task-".concat(t.id))}))}),Object(k.jsx)(D.b,{style:{background:"inherit"},children:Y?Object(k.jsx)(v,{taskData:m.find((function(t){return t.id===Y}))}):null})]}):Object(k.jsx)("p",{children:"Tasks"})}),Object(k.jsx)("div",{className:"label",onClick:function(){return G(!0)},children:K?Object(k.jsx)(E,{tasksCategorie:e,onEdit:c,onClose:G,labels:i}):function(){var t=i.find((function(t){return t.id===e.label}));return null!=t?Object(k.jsx)("span",{children:t.name}):Object(k.jsx)(x.a,{className:"label-btn"})}()}),Object(k.jsx)(w,{onAdd:function(t){return st.apply(this,arguments)},text:"Add Task"})]})})},A=function(t){var e=t.data,n=t.filterState,r=Object(a.useState)(e.tasksCategories),c=Object(u.a)(r,2),s=c[0],i=c[1],d=Object(D.o)(Object(D.n)(D.e),Object(D.n)(D.d,{coordinateGetter:y.c}));function f(){return f=Object(l.a)(o.a.mark((function t(){var e,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:"New",color:1,label:!1},"all"!==n.type&&(e[n.type]=n.value),t.next=4,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,i([].concat(Object(j.a)(s),[r]));case 9:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function p(t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&i(s.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return x.apply(this,arguments)}function x(){return x=Object(l.a)(o.a.mark((function t(e){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/tasksCategories/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,i(s.map((function(t){return t.id===e.id?a:t})));case 7:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function m(t){var e=t.active,n=t.over;if(e.id!==n.id){var a=s.findIndex((function(t){return t.id===e.id})),r=s.findIndex((function(t){return t.id===n.id}));i(Object(y.b)(s,a,r))}}return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"TaskCategoriesContainer",children:[Object(k.jsx)("div",{className:"flexContainer",children:s.length>0?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(D.a,{sensors:d,collisionDetection:D.f,onDragEnd:m,children:Object(k.jsx)(y.a,{items:s,children:s.filter((function(t){return t[n.type]===n.value})).map((function(t){return Object(k.jsx)(T,{tasksCategorie:t,tasksData:e.tasks.filter((function(e){return e.tasksCategorieId===t.id})),onDelete:p,onEdit:h,colors:e.colors,labels:e.labels},"Categorie-".concat(t.id))}))})})}):"No Categories added yet!"}),Object(k.jsx)("hr",{size:"1",width:"90%",color:"black"}),Object(k.jsxs)("div",{id:"addCategory",onClick:function(){return f.apply(this,arguments)},children:[Object(k.jsx)(b.a,{}),Object(k.jsx)("span",{children:"Add Category"})]})]})})},I=n(14),L=function(t){var e=t.type,n=t.children,a=t.setFilterState;return Object(k.jsxs)("section",{children:[Object(k.jsx)("h3",{style:{background:"black",color:"white"},children:e+"'s"}),Object(k.jsx)("div",{onClick:function(t){return function(t){var n=t.target.dataset.id;void 0!==n&&a({type:e,value:parseInt(n)})}(t)},children:n})]})},P=["data"],B=function(t){var e=t.data,n=Object(I.a)(t,P),r=Object(a.useState)(!1),c=Object(u.a)(r,2),s=c[0],i=c[1];function b(){return(b=Object(l.a)(o.a.mark((function t(a){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/labels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});case 2:return r=t.sent,t.next=5,r.json();case 5:c=t.sent,n.setData(Object(f.a)(Object(f.a)({},e),{},{labels:[].concat(Object(j.a)(e.labels),[c])}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/LikeAMantis/react-task-tracker/labels/".concat(a),{method:"DELETE"});case 2:200===t.sent.status&&n.setData(Object(f.a)(Object(f.a)({},e),{},{labels:e.labels.filter((function(t){return t.id!==a}))}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(k.jsxs)("div",{className:"sideBar",expanded:s&&"",children:[Object(k.jsxs)("div",{className:"sideBar-header",onClick:function(){return i(!s)},children:[Object(k.jsx)(d.a,{}),Object(k.jsx)("span",{children:"Filter"})]}),Object(k.jsx)("div",{className:"filterOption-wrapper",isActive:"all"===n.filterState.type&&"",children:Object(k.jsx)("div",{className:"filterOption",style:{marginBottom:"15px"},onClick:function(){return n.setFilterState({type:"all"})},children:"All"})}),Object(k.jsx)(L,Object(f.a)(Object(f.a)({},n),{},{type:"color",children:e.colors&&e.colors.map((function(t){return Object(k.jsx)("div",{className:"filterOption-wrapper",isActive:"color"===n.filterState.type&&n.filterState.value===t.id&&"",children:Object(k.jsx)("div",{className:"filterOption",style:{background:"var(--".concat(t.name,")"),color:"black"},"data-id":t.id,children:t.name},"filterOption-".concat(t.id))})}))})),Object(k.jsx)(L,Object(f.a)(Object(f.a)({},n),{},{type:"label",children:e.labels&&e.labels.map((function(t){return Object(k.jsx)("div",{className:"filterOption-wrapper",isActive:"label"===n.filterState.type&&n.filterState.value===t.id&&"",children:Object(k.jsxs)("div",{className:"filterOption","data-id":t.id,children:[t.name,Object(k.jsx)(h.a,{className:"del-icon",onClick:function(t){return function(t){return p.apply(this,arguments)}(parseInt(t.target.closest(".filterOption").dataset.id))}})]},"filterOption-".concat(t.id))})}))})),Object(k.jsx)(w,{text:"Add Label",onAdd:function(t){return b.apply(this,arguments)}})]})},M=function(){var t=Object(a.useState)({}),e=Object(u.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)({type:"all"}),s=Object(u.a)(c,2),i=s[0],j=s[1];function b(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/db");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(k.jsxs)("div",{className:"App",children:[Object.keys(n).length>0&&Object(k.jsx)(B,{data:n,setData:r,setFilterState:j,filterState:i}),Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsx)("h1",{children:"Tasks Tracker"}),Object.keys(n).length>0?Object(k.jsx)(A,{data:n,filterState:i}):Object(k.jsx)(d.b,{id:"loading-icon"})]})]})};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(M,{})}),document.getElementById("root")),document.onload=function(){return alert("test")}}},[[31,1,2]]]);
//# sourceMappingURL=main.7a5da3f1.chunk.js.map