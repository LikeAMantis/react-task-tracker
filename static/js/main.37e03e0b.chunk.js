(this["webpackJsonpreact-task-tracker"]=this["webpackJsonpreact-task-tracker"]||[]).push([[0],{24:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(11),s=n.n(r),i=(n(24),n(9)),o=n(7),u=n.n(o),d=n(8),l=n(5),j=n(2),f=n(14),b=n(16),h=n(3),p=function(t){var e=t.addTask,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1];function j(){e(r),s(""),d(!1)}return Object(h.jsx)(h.Fragment,{children:u?Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{ref:function(t){return t&&t.focus()},onKeyDown:function(t){return function(t){"Enter"===t.code?(j(),d(!1)):"Escape"===t.code&&d(!1)}(t)},onChange:function(t){s(t.target.value)},value:r,placeholder:"Add Task"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"save-btn",onClick:j,children:"Save"}),Object(h.jsx)("button",{onClick:function(){return d(!1)},children:"Cancel"})]})]}):Object(h.jsxs)("div",{id:"addTask",onClick:function(){return d(!0)},children:[Object(h.jsx)(b.a,{}),Object(h.jsx)("span",{children:"Add Task"})]})})},O=n(18),x=n(17),k=Object(a.forwardRef)((function(t,e){var n=t.taskData,c=t.deleteTask,r=t.putTask,s=t.attributes,i=t.listeners,o=t.style,u=Object(a.useState)(n.text),d=Object(l.a)(u,2),b=d[0],p=d[1];return Object(h.jsxs)("div",{className:"taskContainer",ref:e,style:o,children:[Object(h.jsx)(f.a,Object(j.a)(Object(j.a)({className:"dragHandle"},i),s)),Object(h.jsx)("div",{className:"checkbox",onClick:function(){return r(Object(j.a)(Object(j.a)({},n),{},{done:!n.done}))},children:n.done&&Object(h.jsx)(x.a,{})}),Object(h.jsx)("input",{className:"task",style:n.done?{textDecorationLine:"line-through",color:"grey"}:null,value:b,onChange:function(t){return p(t.target.value)},onBlur:function(){return r(Object(j.a)(Object(j.a)({},n),{},{text:b}))},onKeyDown:function(t){return function(t){"Enter"!==t.code&&"Escape"!==t.code||t.target.blur()}(t)}}),Object(h.jsx)(O.a,{className:"del-icon",onClick:function(t){t.stopPropagation(),c(n.id),console.log("deleteTask")}})]})})),g=n(10),v=n(4),m=function(t){var e=Object(g.d)({id:t.taskData.id}),n=e.attributes,a=e.listeners,c=e.setNodeRef,r=e.transform,s=e.transition,i={transform:v.a.Transform.toString(r),transition:s};return Object(h.jsx)(k,Object(j.a)(Object(j.a)({ref:c},t),{},{style:t.isDragged?Object(j.a)(Object(j.a)({},i),{},{background:"lightgrey"}):i,attributes:n,listeners:a}))},y=n(6),C=function(t){var e=t.tasksCategorie,n=t.deleteCategory,c=t.editCategoryName,r=t.categoryAdded,s=Object(a.useState)([]),o=Object(l.a)(s,2),b=o[0],O=o[1],x=Object(a.useState)(r),C=Object(l.a)(x,2),N=C[0],w=C[1],T=Object(a.useState)(e.name),S=Object(l.a)(T,2),E=S[0],D=S[1],I=Object(a.useState)(null),A=Object(l.a)(I,2),J=A[0],P=A[1],K=Object(y.o)(Object(y.n)(y.e),Object(y.n)(y.d,{coordinateGetter:g.c})),L=Object(g.d)({id:e.id}),R=L.attributes,B=L.listeners,F=L.setNodeRef,G=L.transform,H=L.transition,U={transform:v.a.Translate.toString(G),transition:H};function z(){return(z=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M({tasksCategorieId:e.id,done:!1,text:n});case 2:a=t.sent,O([].concat(Object(i.a)(b),[a]));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(d.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,O(b.map((function(t){return t.id===e.id?a:t})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasks/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&O(b.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasks?tasksCategorieId=".concat(e.id));case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,O(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);function Y(t){P(t.active.id)}function Z(t){var e=t.active,n=t.over;if(e.id!==n.id){var a=b.findIndex((function(t){return t.id===e.id})),c=b.findIndex((function(t){return t.id===n.id}));O(Object(g.b)(b,a,c))}P(null)}return Object(h.jsx)("div",{className:"test",style:Object(j.a)({},U),ref:F,children:Object(h.jsxs)("div",{className:"categoryWrapper",children:[Object(h.jsx)(f.a,Object(j.a)(Object(j.a)(Object(j.a)({className:"dragHandle"},B),R),{},{tabIndex:"false"})),N?Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{ref:function(t){return t&&t.focus()},placeholder:"New Category",onKeyDown:function(t){return function(t){"Enter"===t.code?(c(e.id,E),w(!1)):"Escape"===t.code&&w(!1)}(t)},onChange:function(t){return D(t.target.value)},value:E,style:{height:"1.5em",width:"96%"}}),Object(h.jsxs)("div",{className:"btnContainer",children:[Object(h.jsx)("button",{className:"save-btn",onClick:function(){0===E.length?alert("Enter a Name!"):(c(e.id,E),w(!1))},children:"Save"}),Object(h.jsx)("button",{onClick:function(){return 0===E.length?alert("Enter a Name!"):w(!1)},children:"Cancel"}),Object(h.jsx)("button",{className:"del-btn",onClick:function(){n(e.id),w(!1)},children:"Delete"})]})]}):Object(h.jsxs)("h2",{className:"categoryTitle",onClick:function(){return w(!0)},children:[" ",e.name]}),Object(h.jsx)("div",{className:"tasks",children:b.length>0?Object(h.jsxs)(y.a,{sensors:K,collisionDetection:y.f,onDragEnd:Z,onDragStart:Y,children:[Object(h.jsx)(g.a,{items:b,strategy:g.e,children:b.map((function(t){return Object(h.jsx)(m,{taskData:t,putTask:q,deleteTask:V,postTask:M,isDragged:J===t.id},"task-".concat(t.id))}))}),Object(h.jsxs)(y.b,{children:[" ",J?Object(h.jsx)(k,{taskData:b.find((function(t){return t.id===J}))}):null," "]})]}):Object(h.jsx)("p",{children:"Tasks"})}),Object(h.jsx)(p,{addTask:function(t){return z.apply(this,arguments)}})]})})},N=n(19);var w=function(){var t=Object(a.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],j=s[1],f=Object(y.o)(Object(y.n)(y.e),Object(y.n)(y.d,{coordinateGetter:g.c}));function b(){return(b=Object(d.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasksCategories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:""})});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,c([].concat(Object(i.a)(n),[a]));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasksCategories/".concat(e),{method:"DELETE"});case 2:200===t.sent.status&&c(n.filter((function(t){return t.id!==e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function t(e,a){var r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasksCategories/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});case 2:return r=t.sent,t.next=5,r.json();case 5:s=t.sent,c(n.map((function(t){return t.id===e?s:t})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var e=t.active,a=t.over;if(e.id!==a.id){var r=n.findIndex((function(t){return t.id===e.id})),s=n.findIndex((function(t){return t.id===a.id}));c(Object(g.b)(n,r,s))}}return Object(a.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/tasksCategories");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,c(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Tasks Tracker"}),Object(h.jsx)("div",{className:"flexContainer",children:n.length>0?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{sensors:f,collisionDetection:y.f,onDragEnd:v,children:Object(h.jsx)(g.a,{items:n,children:n.map((function(t){return Object(h.jsx)(C,{tasksCategorie:t,deleteCategory:p,editCategoryName:x,categoryAdded:o},"Categorie-".concat(t.id))}))})})}):"No Categories added yet!"}),Object(h.jsx)("hr",{size:"1",width:"90%",color:"black"}),Object(h.jsxs)("div",{id:"addCategory",onClick:function(){!function(){b.apply(this,arguments)}(),j(!0)},children:[Object(h.jsx)(N.a,{}),"Add Category"]})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),document.onload=function(){return alert("test")}}},[[27,1,2]]]);
//# sourceMappingURL=main.37e03e0b.chunk.js.map